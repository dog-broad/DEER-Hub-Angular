<div class="container">
  <h2 class="mb-4">Dashboard</h2>
  
  <!-- Simple Stats Row -->
  <div class="row mb-4">
    <div class="col-md-3">
      <div class="card">
        <div class="card-body text-center">
          <h4 class="text-primary">{{ pendingLeavesCount }}</h4>
          <p class="card-text">Pending Leaves</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-body text-center">
          <h4 class="text-success">{{ totalDocumentsCount }}</h4>
          <p class="card-text">Total Documents</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-body text-center">
          <h4 class="text-info">{{ activeAnnouncementsCount }}</h4>
          <p class="card-text">Announcements</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-body text-center">
          <h4 class="text-warning">{{ upcomingEventsCount }}</h4>
          <p class="card-text">Upcoming Events</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Leaves and Documents -->
  <div class="row mb-4">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header">
          <h5>Recent Leave Requests</h5>
        </div>
        <div class="card-body">
          <div *ngIf="recentLeaves.length === 0" class="text-center">
            <p>No leave requests found</p>
          </div>
          <div *ngFor="let leave of recentLeaves" class="mb-3 p-2 border-bottom">
            <div class="d-flex justify-content-between align-items-start">
              <div class="flex-grow-1">
                <strong>{{ leave.leaveType | titlecase }} Leave</strong><br>
                <small>{{ formatDate(leave.startDate) }} - {{ formatDate(leave.endDate) }}</small>
                <p class="mb-0 mt-1">{{ leave.reason }}</p>
              </div>
              <span [class]="getStatusBadgeClass(leave.status)" class="ms-2">
                {{ getStatusText(leave.status) }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card">
        <div class="card-header">
          <h5>Recent Documents</h5>
        </div>
        <div class="card-body">
          <div *ngIf="recentDocuments.length === 0" class="text-center">
            <p>No documents found</p>
          </div>
          <div *ngFor="let document of recentDocuments" class="mb-3 p-2 border-bottom">
            <div class="d-flex justify-content-between">
              <div>
                <strong>{{ document.title }}</strong><br>
                <small>{{ document.fileType.toUpperCase() }} â€¢ {{ (document.fileSize / 1024).toFixed(1) }} KB</small>
              </div>
              <small>{{ formatDate(document.uploadedDate) }}</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Events and Announcements -->
  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h5>Upcoming Events</h5>
        </div>
        <div class="card-body">
          <div *ngIf="recentEvents.length === 0" class="text-center">
            <p>No upcoming events</p>
          </div>
          <div *ngFor="let event of recentEvents" class="mb-3 p-2 border-bottom">
            <div class="d-flex justify-content-between align-items-start">
              <div class="flex-grow-1">
                <h6>{{ event.title }}</h6>
                <p>{{ event.content }}</p>
                <div>
                  <small><strong>Date:</strong> {{ formatEventDate(event.eventDate!) }}</small><br>
                  <small><strong>Time:</strong> {{ event.startTime }} - {{ event.endTime }}</small><br>
                  <small><strong>Location:</strong> {{ event.location }}</small>
                </div>
              </div>
              <span [class]="event.priority === 'high' ? 'badge bg-danger' : 
                              event.priority === 'medium' ? 'badge bg-warning' : 'badge bg-success'" 
                    class="ms-2">
                {{ event.priority | titlecase }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <h5>Recent Announcements</h5>
        </div>
        <div class="card-body">
          <div *ngIf="recentAnnouncements.length === 0" class="text-center">
            <p>No announcements found</p>
          </div>
          <div *ngFor="let announcement of recentAnnouncements" class="mb-3 p-2 border-bottom">
            <div class="d-flex justify-content-between align-items-start">
              <div class="flex-grow-1">
                <h6>{{ announcement.title }}</h6>
                <p>{{ announcement.content }}</p>
              </div>
              <div class="text-end ms-2">
                <span [class]="announcement.priority === 'high' ? 'badge bg-danger' : 
                                announcement.priority === 'medium' ? 'badge bg-warning' : 'badge bg-success'">
                  {{ announcement.priority | titlecase }}
                </span>
                <br>
                <small>{{ formatDate(announcement.createdDate) }}</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
