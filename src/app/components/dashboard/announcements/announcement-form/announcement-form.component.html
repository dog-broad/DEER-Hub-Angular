<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card shadow-sm">
                <div class="card-header">
                    <h4 class="mb-0">Create Announcement</h4>
                </div>
                <div class="card-body">
                    <form [formGroup]="myForm">
                        <div class="row">
                            <div class="col-md-8">
                                <div class="form-group mb-3">
                                    <label for="title">Title</label>
                                    <input type="text" id="title" formControlName="title" class="form-control" placeholder="Enter announcement title">
                                    <div *ngIf="myFc?.['title']?.touched && myFc?.['title']?.invalid">
                                        <div *ngIf="myForm.get('title')?.errors?.['required']" class="alert alert-danger p-1 mt-1 small">
                                            Title is required
                                        </div>
                                        <div *ngIf="myForm.get('title')?.errors?.['minlength']" class="alert alert-danger p-1 mt-1 small">
                                            Title must be at least 5 characters
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group mb-3">
                                    <label for="priority">Priority</label>
                                    <select id="priority" formControlName="priority" class="form-control">
                                        <option *ngFor="let priority of priorities" [value]="priority.value">{{ priority.label }}</option>
                                    </select>
                                    <div *ngIf="myFc?.['priority']?.touched && myFc?.['priority']?.invalid">
                                        <div *ngIf="myForm.get('priority')?.errors?.['required']" class="alert alert-danger p-1 mt-1 small">
                                            Priority is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="content">Content</label>
                            <textarea id="content" formControlName="content" class="form-control" rows="6" placeholder="Enter announcement content"></textarea>
                            <div *ngIf="myFc?.['content']?.touched && myFc?.['content']?.invalid">
                                <div *ngIf="myForm.get('content')?.errors?.['required']" class="alert alert-danger p-1 mt-1 small">
                                    Content is required
                                </div>
                                <div *ngIf="myForm.get('content')?.errors?.['minlength']" class="alert alert-danger p-1 mt-1 small">
                                    Content must be at least 10 characters
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="targetAudience">Target Audience</label>
                                    <select id="targetAudience" formControlName="targetAudience" class="form-control">
                                        <option *ngFor="let audience of targetAudiences" [value]="audience.value">{{ audience.label }}</option>
                                    </select>
                                    <div *ngIf="myFc?.['targetAudience']?.touched && myFc?.['targetAudience']?.invalid">
                                        <div *ngIf="myForm.get('targetAudience')?.errors?.['required']" class="alert alert-danger p-1 mt-1 small">
                                            Target audience is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="isEvent" formControlName="isEvent">
                                        <label class="form-check-label" for="isEvent">
                                            This is an event
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="myForm.get('isEvent')?.value" class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="eventDate">Event Date</label>
                                    <input type="date" id="eventDate" formControlName="eventDate" class="form-control">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="location">Location</label>
                                    <input type="text" id="location" formControlName="location" class="form-control" placeholder="Enter event location">
                                </div>
                            </div>
                        </div>
                        <div *ngIf="myForm.get('isEvent')?.value" class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="startTime">Start Time</label>
                                    <input type="time" id="startTime" formControlName="startTime" class="form-control">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="endTime">End Time</label>
                                    <input type="time" id="endTime" formControlName="endTime" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between">
                            <a routerLink="/dashboard/announcements" class="btn btn-secondary">Cancel</a>
                            <button type="button" class="btn btn-primary" (click)="validate()" [disabled]="myForm.invalid">Create Announcement</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
